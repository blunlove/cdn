/*!
  * hf-http v1.0.10
  * (c) 2020 sl-c
  * @license MIT
  */
/*!
  * hf-http v1.0.10
  * (c) 2020 sl-c
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios"),require("vue")):"function"==typeof define&&define.amd?define(["exports","axios","vue"],t):t((e=e||self).HfHttp={},e.axios,e.Vue)}(this,(function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return Array.isArray(t)?t.some((function(t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")})):Object.prototype.toString.call(e)==="[object ".concat(t,"]")}function s(e){return null!=e&&"false"!=="".concat(e)&&"NaN"!=="".concat(e)&&""!=="".concat(e)}function a(e){return Object.prototype.toString.call(e)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var u=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=t+"="+n+s}}function c(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var s=i[c].split("="),a=s.slice(1).join("=");n||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var u=t(s[0]);if(a=(r.read||r)(a,u)||t(a),n)try{a=JSON.parse(a)}catch(e){}if(o[u]=a,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return c(e,!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}));function f(e){var t=u.get(e);if(s(t))try{return JSON.parse(t)}catch(e){return t}}var h=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),d="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,p="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var v=["top","right","bottom","left","width","height","size","weight"],b="undefined"!=typeof MutationObserver,g=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function c(){l(i)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(c,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){d&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),b?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){d&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;v.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),m=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},y=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||p},_=x(0,0,0,0);function w(e){return parseFloat(e)||0}function O(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+w(e["border-"+n+"-width"])}),0)}function E(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return _;var r=y(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=w(i)}return t}(r),i=o.left+o.right,c=o.top+o.bottom,s=w(r.width),a=w(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=O(r,"left","right")+i),Math.round(a+c)!==n&&(a-=O(r,"top","bottom")+c)),!function(e){return e===y(e).document.documentElement}(e)){var u=Math.round(s+i)-t,f=Math.round(a+c)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(f)&&(a-=f)}return x(o.left,o.top,s,a)}var j="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof y(e).SVGGraphicsElement}:function(e){return e instanceof y(e).SVGElement&&"function"==typeof e.getBBox};function k(e){return d?j(e)?function(e){var t=e.getBBox();return x(0,0,t.width,t.height)}(e):E(e):_}function x(e,t,n,r){return{x:e,y:t,width:n,height:r}}var A=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=x(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=k(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),R=function(e,t){var n,r,o,i,c,s,a,u=(r=(n=t).x,o=n.y,i=n.width,c=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(s.prototype),m(a,{x:r,y:o,width:i,height:c,top:o,right:r+i,bottom:c+o,left:r}),a);m(this,{target:e,contentRect:u})},T=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new h,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof y(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new A(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof y(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new R(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),M="undefined"!=typeof WeakMap?new WeakMap:new h,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=g.getInstance(),r=new T(t,n,this);M.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=M.get(this))[e].apply(t,arguments)}}));void 0!==p.ResizeObserver&&p.ResizeObserver,n.prototype.$isServer;var D={Function:["onResponse","onFailure","onError"],String:["baseURL"],Number:["timeout"]};var C=function(e){var t=e||{};Object.keys(D).forEach((function(e){D[e].forEach((function(n){!function(e,t,n){var r=e[t];r&&a(r)!=="[object ".concat(n,"]")&&console.warn("HttpFactory config warning:".concat(t,"\u5e94\u4e3a").concat(n,"\u7c7b\u578b"))}(t,n,e)}))}))};var P=document.cookie.split("; ").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{}),F={onResponse:function(e){},onError:function(e){},onFailure:function(e){if(3e6===e.code){e.msg="";var t=window.location.origin,n=window.location.href;window.location.href="".concat(e.data.loginUrl,"?client_id=").concat(P.clientId,"&redirect_uri=").concat(encodeURIComponent("".concat(t,"/exchange.html?systemUrl=").concat(encodeURIComponent(n))))}}};function N(e,t){F[e](t)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;N(t,n);var r=e[t];"[object Function]"===a(r)&&r(n)}function U(e,t,n,r){var o,i=Promise.resolve(e);c(e.data,"Blob")&&/application\/json/.test(e.data.type)&&(i=(o=e.data,new Promise((function(e,t){var n=new FileReader;n.readAsText(o),n.onload=function(){e(this.result)},n.onerror=function(){t(this.error)}}))).then((function(t){return e.data=JSON.parse(t),e}))),i.then((function(e){c(e.data,"Blob")?t(e.data):r.isDealRespones?e.data.success?t(e.data.data):(B(r,"onFailure",e.data),n(e.data)):t(e)}))}var I={isDealRespones:!0};function H(e,n,r){var o=Object.assign({},I,r);return function(r,c){var u=t.CancelToken.source(),h=new Promise((function(h,d){var p=i(i({},o),{},{url:r,method:n,headers:{loginToken:f("loginToken")},cancelToken:u.token}),l=["get","delete","head"].includes(n)?"params":"data";p[l]="[object FormData]"===Object.prototype.toString.call(c)?c:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=a(t);if(!["[object Array]","[object Object]"].includes(r))return n?{}:t;var o="[object Array]"===r?[]:{};if(!s(t))return o;for(var i=Object.keys(t),c=0,u=i;c<u.length;c++){var f=u[c];"[object Object]"===a(t[f])||"[object Array]"===a(t[f])?o[f]=e(t[f],!1):[null].includes(t[f])||(o[f]=t[f])}return o}(c),e(p).then((function(e){B(o,"onResponse",e,p),U(e,h,d,o)})).catch((function(e){if(t.isCancel(e))d(e);else if(e.response||"ECONNABORTED"===e.code){var n=function(e){if("ECONNABORTED"===e.code&&(e.msg="\u8bf7\u6c42\u8d85\u65f6"),e&&e.response)switch(e.response.status){case 400:e.msg="\u8bf7\u6c42\u9519\u8bef";break;case 401:e.msg="\u672a\u6388\u6743\uff0c\u8bf7\u767b\u5f55";break;case 403:e.msg="\u62d2\u7edd\u8bbf\u95ee";break;case 404:e.msg="\u8bf7\u6c42\u5730\u5740\u51fa\u9519: ".concat(e.response.config.url);break;case 408:e.msg="\u8bf7\u6c42\u8d85\u65f6";break;case 500:e.msg="\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef";break;case 501:e.msg="\u670d\u52a1\u672a\u5b9e\u73b0";break;case 502:e.msg="\u7f51\u5173\u9519\u8bef";break;case 503:e.msg="\u670d\u52a1\u4e0d\u53ef\u7528";break;case 504:e.msg="\u7f51\u5173\u8d85\u65f6";break;case 505:e.msg="HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301";break;default:e.msg="\u8fde\u63a5\u51fa\u9519"}return e}(e);B(o,"onError",n,p),d(e)}}))}));return h.source=u,h}}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C(e);var n=t.create(e);return{post:H(n,"post",e),get:H(n,"get",e),put:H(n,"put",e),delete:H(n,"delete",e),head:H(n,"head",e),patch:H(n,"patch",e),download_post:H(n,"post",i(i({},e),{},{responseType:"blob"})),download_get:H(n,"get",i(i({},e),{},{responseType:"blob"}))}}var L=Promise.prototype.then;function q(e){var t=new z(e);return function(e){return function(n,r,o){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return t[r](e,n)}(e+n,r,o)}}}Promise.prototype.then=function(){var e=L.bind(this).apply(void 0,arguments);return e.source=this.source,e};e.HttpFactory=z,e.baseService=function(e){var t=q(e.httpConfig);return e.serviceModel.reduce((function(e,n){return e[n.name]=t(n.url),e}),{})},e.version="1.0.10",Object.defineProperty(e,"__esModule",{value:!0})}));